{"version":3,"file":"Switch-4571d1c4.js","sources":["../../../../packages/react/src/components/Switch/Switch.tsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport { Button, ButtonProps } from '../Button';\nimport { FieldInfo } from '../Field';\nimport { Tooltip } from '../Tooltip/Tooltip';\nimport { useForwardedRef, useId } from '../../utilities';\nimport { SwitchProps } from './types';\n\nexport const Switch = React.forwardRef<HTMLButtonElement, SwitchProps>(({\n\tbaseName = 'nds-switch',\n\tlabelClass,\n\tdescriptionClass,\n\tchecked: isChecked = false,\n\ttooltipProps,\n\tchildren,\n\tclassName,\n\tdescription,\n\tdisabled,\n\tdisplayDefault = true,\n\tlabel,\n\ttipped,\n\tid: idProp,\n\tlabelId: labelIdProp,\n\tdescriptionId: descIdProp,\n\tonClick,\n\tonToggle,\n\t...props\n}: SwitchProps, ref) => {\n\tconst [checked, setChecked] = React.useState(isChecked);\n\tconst [defaultValue, setDefaultValue] = React.useState('OFF');\n\tconst prevChecked = React.useRef(checked);\n\tconst [button, setButton] = useForwardedRef(ref);\n\n\t// ids stored as refs since they shouldn't change between renders\n\tconst uniqueId = useId();\n\tconst id = idProp || uniqueId;\n\tconst labelId = labelIdProp || `${id}-label`;\n\tconst descId = descIdProp || `${id}-desc`;\n\n\tReact.useEffect(() => setChecked(isChecked), [isChecked]);\n\n\tReact.useEffect(() => {\n\t\tsetDefaultValue((checked) ? 'ON' : 'OFF');\n\t\tif (onToggle && checked !== prevChecked.current) onToggle(checked);\n\t\tprevChecked.current = checked;\n\t}, [checked, onToggle]);\n\n\tconst clickHandler: ButtonProps['onClick'] = (e) => {\n\t\tif (onClick) onClick(e);\n\t\telse setChecked(!checked);\n\t};\n\n\t// label can either be a <FieldInfo> or a tooltip\n\tconst Label = (tipped)\n\t\t? <Tooltip asLabel reference={button} {...tooltipProps}>{ label }</Tooltip>\n\t\t: (\n\t\t\t<FieldInfo\n\t\t\t\thtmlFor={id}\n\t\t\t\tlabel={label}\n\t\t\t\tlabelClass={labelClass}\n\t\t\t\tlabelId={labelId}\n\t\t\t\tdescription={description}\n\t\t\t\tdescriptionClass={descriptionClass}\n\t\t\t\tdescriptionId={descId}\n\t\t\t/>\n\t\t);\n\n\tconst buttonProps = (tipped)\n\t\t? props\n\t\t: {\n\t\t\tid,\n\t\t\t'aria-labelledby': `${id}-label`,\n\t\t\t...props,\n\t\t};\n\n\treturn (\n\t\t<div className={baseName}>\n\t\t\t{ Label }\n\t\t\t<Button\n\t\t\t\taria-checked={(checked) ? 'true' : 'false'}\n\t\t\t\tclassName={classNames(`${baseName}__control`, className)}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tonClick={clickHandler}\n\t\t\t\tref={setButton}\n\t\t\t\trole=\"switch\"\n\t\t\t\t{...buttonProps}\n\t\t\t>\n\t\t\t\t{ children || ((displayDefault) ? defaultValue : undefined) }\n\t\t\t</Button>\n\t\t</div>\n\t);\n});\n"],"names":["Switch","React","baseName","labelClass","descriptionClass","isChecked","tooltipProps","children","className","description","disabled","displayDefault","label","tipped","idProp","labelIdProp","descIdProp","onClick","onToggle","props","ref","checked","setChecked","defaultValue","setDefaultValue","prevChecked","button","setButton","useForwardedRef","uniqueId","useId","id","labelId","descId","clickHandler","e","Label","jsx","Tooltip","FieldInfo","buttonProps","jsxs","Button","classNames"],"mappings":"4QAQO,MAAAA,EAAAC,EAAA,WAAA,CAAA,CAAiE,SAAAC,EAAA,aAC5D,WAAAC,EACX,iBAAAC,EACA,QAAAC,EAAA,GACqB,aAAAC,EACrB,SAAAC,EACA,UAAAC,EACA,YAAAC,EACA,SAAAC,EACA,eAAAC,EAAA,GACiB,MAAAC,EACjB,OAAAC,EACA,GAAAC,EACI,QAAAC,EACK,cAAAC,EACM,QAAAC,EACf,SAAAC,EACA,GAAAC,CAED,EAAAC,IAAA,CACC,KAAA,CAAAC,EAAAC,CAAA,EAAArB,EAAA,SAAAI,CAAA,EACA,CAAAkB,EAAAC,CAAA,EAAAvB,EAAA,SAAA,KAAA,EACAwB,EAAAxB,EAAA,OAAAoB,CAAA,EACA,CAAAK,EAAAC,CAAA,EAAAC,EAAAR,CAAA,EAGAS,EAAAC,IACAC,EAAAjB,GAAAe,EACAG,EAAAjB,GAAA,GAAAgB,CAAA,SACAE,EAAAjB,GAAA,GAAAe,CAAA,QAEA9B,EAAA,UAAA,IAAAqB,EAAAjB,CAAA,EAAA,CAAAA,CAAA,CAAA,EAEAJ,EAAA,UAAA,IAAA,CACCuB,EAAAH,EAAA,KAAA,KAAA,EACAH,GAAAG,IAAAI,EAAA,SAAiDP,EAAAG,CAAA,EACjDI,EAAA,QAAAJ,CAAsB,EAAA,CAAAA,EAAAH,CAAA,CAAA,EAGvB,MAAAgB,EAAAC,GAAA,CACClB,EAAaA,EAAAkB,CAAA,EACRb,EAAA,CAAAD,CAAA,CAAmB,EAIzBe,EAAAvB,EAAAwB,EAAAC,EAAA,CAAA,QAAA,GAAA,UAAAZ,EAAA,GAAApB,EAAA,SAAAM,CAAA,CAAA,EAAAyB,EAGEE,EAAC,CAAA,QAAAR,EACS,MAAAnB,EACT,WAAAT,EACA,QAAA6B,EACA,YAAAvB,EACA,iBAAAL,EACA,cAAA6B,CACe,CAAA,EAIlBO,EAAA3B,EAAAM,EAAA,CAEG,GAAAY,EACD,kBAAA,GAAAA,CAAA,SACwB,GAAAZ,CACrB,EAGL,OAAAsB,EAAA,MAAA,CAAA,UAAAvC,EAAA,SAAA,CAEIkC,EAAAC,EACFK,EAAC,CAAA,eAAArB,EAAA,OAAA,QACmC,UAAAsB,EAAA,GAAAzC,CAAA,YAAAM,CAAA,EACoB,SAAAE,EACvD,QAAAwB,EACS,IAAAP,EACJ,KAAA,SACA,GAAAa,EACD,SAAAjC,IAAAI,EAAAY,EAAA,OAE6C,CAAA,CAClD,CAAA,CAAA,CAGH,CAAA;;"}