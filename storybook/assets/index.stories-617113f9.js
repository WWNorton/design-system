import{j as U}from"./index-a1e85e29.js";import{a as W,r as u}from"./index-0cbcd92a.js";import{L as T}from"./Link-a9242a41.js";import{L as he}from"./hook-0eff1646.js";import"./_commonjsHelpers-de833af9.js";import"./Icon-04f449eb.js";import"./index-314a82e0.js";import"./inheritsLoose-9eefaa95.js";/**
 * @remix-run/router v1.3.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},b.apply(this,arguments)}var C;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(C||(C={}));const H="popstate";function de(e){e===void 0&&(e={});function t(r,n){let{pathname:o,search:i,hash:s}=r.location;return D("",{pathname:o,search:i,hash:s},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(r,n){return typeof n=="string"?n:k(n)}return me(t,a,null,e)}function S(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pe(){return Math.random().toString(36).substr(2,8)}function K(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,a,r){return a===void 0&&(a=null),b({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?O(t):t,{state:a,key:t&&t.key||r||pe()})}function k(e){let{pathname:t="/",search:a="",hash:r=""}=e;return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function O(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function me(e,t,a,r){r===void 0&&(r={});let{window:n=document.defaultView,v5Compat:o=!1}=r,i=n.history,s=C.Pop,c=null,l=d();l==null&&(l=0,i.replaceState(b({},i.state,{idx:l}),""));function d(){return(i.state||{idx:null}).idx}function m(){s=C.Pop;let f=d(),p=f==null?null:f-l;l=f,c&&c({action:s,location:g.location,delta:p})}function v(f,p){s=C.Push;let h=D(g.location,f,p);a&&a(h,f),l=d()+1;let x=K(h,l),P=g.createHref(h);try{i.pushState(x,"",P)}catch{n.location.assign(P)}o&&c&&c({action:s,location:g.location,delta:1})}function w(f,p){s=C.Replace;let h=D(g.location,f,p);a&&a(h,f),l=d();let x=K(h,l),P=g.createHref(h);i.replaceState(x,"",P),o&&c&&c({action:s,location:g.location,delta:0})}function y(f){let p=n.location.origin!=="null"?n.location.origin:n.location.href,h=typeof f=="string"?f:k(f);return S(p,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,p)}let g={get action(){return s},get location(){return e(n,i)},listen(f){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(H,m),c=f,()=>{n.removeEventListener(H,m),c=null}},createHref(f){return t(n,f)},createURL:y,encodeLocation(f){let p=y(f);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:v,replace:w,go(f){return i.go(f)}};return g}var _;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_||(_={}));function ae(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=e.charAt(a);return r&&r!=="/"?null:e.slice(a)||"/"}function ge(e,t){t===void 0&&(t="/");let{pathname:a,search:r="",hash:n=""}=typeof e=="string"?O(e):e;return{pathname:a?a.startsWith("/")?a:ve(a,t):t,search:ye(r),hash:xe(n)}}function ve(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function N(e,t,a,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oe(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function ie(e,t,a,r){r===void 0&&(r=!1);let n;typeof e=="string"?n=O(e):(n=b({},e),S(!n.pathname||!n.pathname.includes("?"),N("?","pathname","search",n)),S(!n.pathname||!n.pathname.includes("#"),N("#","pathname","hash",n)),S(!n.search||!n.search.includes("#"),N("#","search","hash",n)));let o=e===""||n.pathname==="",i=o?"/":n.pathname,s;if(r||i==null)s=a;else{let m=t.length-1;if(i.startsWith("..")){let v=i.split("/");for(;v[0]==="..";)v.shift(),m-=1;n.pathname=v.join("/")}s=m>=0?t[m]:"/"}let c=ge(n,s),l=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(l||d)&&(c.pathname+="/"),c}const se=e=>e.join("/").replace(/\/\/+/g,"/"),ye=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,le=["post","put","patch","delete"];new Set(le);const Se=["get",...le];new Set(Se);/**
 * React Router v6.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function we(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const Pe=typeof Object.is=="function"?Object.is:we,{useState:Ce,useEffect:Le,useLayoutEffect:Ee,useDebugValue:be}=W;function Re(e,t,a){const r=t(),[{inst:n},o]=Ce({inst:{value:r,getSnapshot:t}});return Ee(()=>{n.value=r,n.getSnapshot=t,M(n)&&o({inst:n})},[e,r,t]),Le(()=>(M(n)&&o({inst:n}),e(()=>{M(n)&&o({inst:n})})),[e]),be(r),r}function M(e){const t=e.getSnapshot,a=e.value;try{const r=t();return!Pe(a,r)}catch{return!0}}function Ue(e,t,a){return t()}const ke=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oe=!ke,je=Oe?Ue:Re;"useSyncExternalStore"in W&&(e=>e.useSyncExternalStore)(W);const j=u.createContext(null),J=u.createContext(null),ce=u.createContext({outlet:null,matches:[]});function Be(e,t){let{relative:a}=t===void 0?{}:t;B()||S(!1);let{basename:r,navigator:n}=u.useContext(j),{hash:o,pathname:i,search:s}=ue(e,{relative:a}),c=i;return r!=="/"&&(c=i==="/"?r:se([r,i])),n.createHref({pathname:c,search:s,hash:o})}function B(){return u.useContext(J)!=null}function $(){return B()||S(!1),u.useContext(J).location}function Ne(){B()||S(!1);let{basename:e,navigator:t}=u.useContext(j),{matches:a}=u.useContext(ce),{pathname:r}=$(),n=JSON.stringify(oe(a).map(s=>s.pathnameBase)),o=u.useRef(!1);return u.useEffect(()=>{o.current=!0}),u.useCallback(function(s,c){if(c===void 0&&(c={}),!o.current)return;if(typeof s=="number"){t.go(s);return}let l=ie(s,JSON.parse(n),r,c.relative==="path");e!=="/"&&(l.pathname=l.pathname==="/"?e:se([e,l.pathname])),(c.replace?t.replace:t.push)(l,c.state,c)},[e,t,n,r])}function ue(e,t){let{relative:a}=t===void 0?{}:t,{matches:r}=u.useContext(ce),{pathname:n}=$(),o=JSON.stringify(oe(r).map(i=>i.pathnameBase));return u.useMemo(()=>ie(e,JSON.parse(o),n,a==="path"),[e,o,n,a])}var z;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(z||(z={}));var F;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(F||(F={}));function Me(e){let{basename:t="/",children:a=null,location:r,navigationType:n=C.Pop,navigator:o,static:i=!1}=e;B()&&S(!1);let s=t.replace(/^\/*/,"/"),c=u.useMemo(()=>({basename:s,navigator:o,static:i}),[s,o,i]);typeof r=="string"&&(r=O(r));let{pathname:l="/",search:d="",hash:m="",state:v=null,key:w="default"}=r,y=u.useMemo(()=>{let g=ae(l,s);return g==null?null:{pathname:g,search:d,hash:m,state:v,key:w}},[s,l,d,m,v,w]);return y==null?null:u.createElement(j.Provider,{value:c},u.createElement(J.Provider,{children:a,value:{location:y,navigationType:n}}))}var V;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(V||(V={}));new Promise(()=>{});/**
 * React Router DOM v6.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},I.apply(this,arguments)}function We(e,t){if(e==null)return{};var a={},r=Object.keys(e),n,o;for(o=0;o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&(a[n]=e[n]);return a}function De(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ie(e,t){return e.button===0&&(!t||t==="_self")&&!De(e)}const Te=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Je(e){let{basename:t,children:a,window:r}=e,n=u.useRef();n.current==null&&(n.current=de({window:r,v5Compat:!0}));let o=n.current,[i,s]=u.useState({action:o.action,location:o.location});return u.useLayoutEffect(()=>o.listen(s),[o]),u.createElement(Me,{basename:t,children:a,location:i.location,navigationType:i.action,navigator:o})}const $e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",He=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ke=u.forwardRef(function(t,a){let{onClick:r,relative:n,reloadDocument:o,replace:i,state:s,target:c,to:l,preventScrollReset:d}=t,m=We(t,Te),{basename:v}=u.useContext(j),w,y=!1;if(typeof l=="string"&&He.test(l)&&(w=l,$e)){let h=new URL(window.location.href),x=l.startsWith("//")?new URL(h.protocol+l):new URL(l),P=ae(x.pathname,v);x.origin===h.origin&&P!=null?l=P+x.search+x.hash:y=!0}let g=Be(l,{relative:n}),f=_e(l,{replace:i,state:s,target:c,preventScrollReset:d,relative:n});function p(h){r&&r(h),h.defaultPrevented||f(h)}return u.createElement("a",I({},m,{href:w||g,onClick:y||o?r:p,ref:a,target:c}))});var A;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(A||(A={}));var G;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(G||(G={}));function _e(e,t){let{target:a,replace:r,state:n,preventScrollReset:o,relative:i}=t===void 0?{}:t,s=Ne(),c=$(),l=ue(e,{relative:i});return u.useCallback(d=>{if(Ie(d,a)){d.preventDefault();let m=r!==void 0?r:k(c)===k(l);s(e,{replace:m,state:n,preventScrollReset:o,relative:i})}},[c,s,l,r,n,a,e,o,i])}const Ze={title:"Link",component:T,argTypes:{external:{control:{type:"boolean"}}}},fe=e=>U(T,{...e}),L=fe.bind({});L.args={children:"Default link",href:"?path=/story/link--default",external:!1};const E=fe.bind({});E.args={children:"Norton Design System GitHub",href:"https://github.com/wwnorton/design-system",external:!0};const R=()=>U(Je,{children:U(he.Provider,{value:Ke,children:U(T,{to:"/",children:"Norton Design System"})})});var X,q,Q;L.parameters={...L.parameters,docs:{...(X=L.parameters)==null?void 0:X.docs,source:{originalSource:"args => <Link {...args} />",...(Q=(q=L.parameters)==null?void 0:q.docs)==null?void 0:Q.source}}};var Y,Z,ee;E.parameters={...E.parameters,docs:{...(Y=E.parameters)==null?void 0:Y.docs,source:{originalSource:"args => <Link {...args} />",...(ee=(Z=E.parameters)==null?void 0:Z.docs)==null?void 0:ee.source}}};var te,ne,re;R.parameters={...R.parameters,docs:{...(te=R.parameters)==null?void 0:te.docs,source:{originalSource:`(): JSX.Element => <BrowserRouter>
        <LinkContext.Provider value={ReactLink}>
            <Link to="/">Norton Design System</Link>
        </LinkContext.Provider>
    </BrowserRouter>`,...(re=(ne=R.parameters)==null?void 0:ne.docs)==null?void 0:re.source}}};const et=["Default","External","ThirdPartyRouter"];export{L as Default,E as External,R as ThirdPartyRouter,et as __namedExportsOrder,Ze as default};
//# sourceMappingURL=index.stories-617113f9.js.map
